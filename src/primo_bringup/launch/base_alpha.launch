<?xml version="1.0"?>
<launch>

    <arg name="rtab"        value="false"/>
    <arg name="nav"         value="false"/>
    <arg name="wheel_odom"  value="true"/>
    <arg name="stereo"      value="false"/>
    <arg name="joy"         value="false"/>

    <include file="$(find primo_description)/launch/primo_urdf_real.launch"/>
    <include file="$(find primo_base)/launch/ard_enc.launch"/>

    <include if="$(arg joy)" file="$(find primo_base)/launch/joy_twist.launch"/>

    <include file="$(find primo_base)/launch/diff_drive.launch">
        <arg name="wheel_odom" value="true"/>
    </include>

    <include file="$(find primo_base)/launch/vel_smooth.launch"/>
    <node pkg="sabertooth_simple" type="sabertooth_simple" name="sabertooth"/>
    <!-- <include file="$(find primo_base)/launch/power_sensor.launch"/> -->

    <group if="$(arg stereo)">
        <include file="$(find primo_stereo)/launch/stereo0.launch">
            <arg name="stereo_real" value="true"/>
        </include>

        <include file="$(find primo_stereo)/launch/stereo1.launch">
            <arg name="stereo_real" value="true"/>
        </include>
    </group>

    <group if="$(arg rtab)">
        <include file="$(find primo_rtabmap)/launch/rtab_master.launch">
            <arg name="slam"        value="false"/>
            <arg name="rtabmapviz"  value="false" />
            <arg name="stereo"      value="true" />
            <arg name="rgbd"        value="false" />
        </include>
    </group>

    
    <group if="$(arg nav)">
        <include file="$(find primo_nav)/launch/primo_nav.launch"/>
    </group>

    <!-- <include file="$(find primo_rtabmap)/launch/ground_segmenter.launch"/> -->

</launch>
